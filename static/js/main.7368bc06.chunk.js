(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),l=n(9),o=n.n(l),i=n(8),a=n(11),u=n(2),s=n(17),d=n.n(s)()(),b={EASY:"easy",MEDIUM:"medium",HARD:"hard",VERY_HARD:"very-hard",INSANE:"insane",INHUMAN:"inhuman"};var j={levels:b,get:function(e){var t=e.level;console.log("level:",t);var n=d.generator.generate(b[t]),c=d.solver.solve(n);console.log(n),console.log(c);for(var r=[],l=0;l<9;l++){r.push([]);for(var o=0;o<9;o++){var i=9*l+o;r[l].push({lin:l,col:o,i:i,locked:"."!==n[i],editable:"."===n[i],value:n[i],solution:c[i],error:!1})}}return r},setOnCell:function(e,t,n){var c,r,l,o=function(e){return e.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.value}),"")}),"")}(e),i=(c=o,r=t.lin*e.length+t.col,l=n,r>c.length-1?c:c.substring(0,r)+l+c.substring(r+1));return d.solver.solve(i)?Object(u.a)(Object(u.a)({},t),{},{value:n,error:null,editable:!0}):Object(u.a)(Object(u.a)({},t),{},{value:".",error:n,editable:!1})}},v={numberFirst:{init:function(e){return e},cellClicked:function(e){var t=e.state,n=e.action,c=t.control;if(!c.selected)return t;var r=n.payload.cell;if(!r.editable)return t;var l=Object(a.a)(t.model);return l[r.lin][r.col]=j.setOnCell(l,r,c.selected),Object(u.a)(Object(u.a)({},t),{},{model:l})},cellErrorFinished:function(e){var t=e.state,n=e.action.payload.cell,c=Object(a.a)(t.model);return c[n.lin][n.col]=Object(u.a)(Object(u.a)({},n),{},{editable:!0,error:null}),Object(u.a)(Object(u.a)({},t),{},{model:c})},numberClicked:function(e){var t=e.state,n=e.action;return Object(u.a)(Object(u.a)({},t),{},{control:Object(u.a)(Object(u.a)({},t.control),{},{selected:n.payload.number})})}},cellFirst:{}},h={init:function(e){var t=e.state,n=e.action;return v[t.control.mode].init({state:t,action:n})},cellClicked:function(e){var t=e.state,n=e.action;return v[t.control.mode].cellClicked({state:t,action:n})},numberClicked:function(e){var t=e.state,n=e.action;return v[t.control.mode].numberClicked({state:t,action:n})},cellErrorFinished:function(e){var t=e.state,n=e.action;return v[t.control.mode].cellErrorFinished({state:t,action:n})}},f=function(e,t){console.log("event IN : state",e," action",t);var n=function(e,t){switch(t.type){case"cell/clicked":return h.cellClicked({state:e,action:t});case"cell/error-finished":return h.cellErrorFinished({state:e,action:t});case"number/clicked":return h.numberClicked({state:e,action:t});case"level/clicked":return Object(u.a)(Object(u.a)({},e),{},{levels:Object(u.a)(Object(u.a)({},e.levels),{},{selected:t.payload.level}),model:j.get(t.payload)});default:return e}}(e,t);return console.log("event OUT: state",e),n},m=n(1),O=Object(c.createContext)(),p={model:j.get({level:"EASY"}),numbers:Object(a.a)(Array(9).keys()).map((function(e){return""+(e+1)})),levels:{selected:"EASY",options:["EASY","MEDIUM","HARD","VERY_HARD","INSANE","INHUMAN"]},control:{mode:"numberFirst"}},k=function(e){var t=e.children,n=Object(c.useReducer)(f,p),r=Object(i.a)(n,2),l={state:r[0],dispatch:r[1]};return Object(m.jsx)(O.Provider,{value:l,children:t})},x=function(){var e=Object(c.useContext)(O);if(!e)throw new Error("useSudokuContext must be used within a SudokuProvider");return{state:e.state,dispatch:e.dispatch}},S=(n(27),n(28),n(7)),C=n.n(S);n(29);var N=function(e){var t=x(),n=t.state.control,c=t.dispatch,r=e.cell;return Object(m.jsx)("div",{className:C()("SudokuCell","SudokuCell-col-".concat(r.col),"SudokuCell-lin-".concat(r.lin),{"SudokuCell-locked":r.locked,"SudokuCell-n-locked":!r.locked,"SudokuCell-error":!!r.error,"SudokuCell-empty":"."===r.value,"SudokuCell-not-empty":"."!==r.value,"SudokuCell-number-selected":r.value===n.selected}),onClick:function(){return c({type:"cell/clicked",payload:{cell:e.cell}})},onAnimationEnd:function(){return c({type:"cell/error-finished",payload:{cell:e.cell}})},children:Object(m.jsx)("span",{children:r.error||r.value})})};var g=function(e){var t=x(),n=t.state,c=n.model,r=n.control,l=t.dispatch;return Object(m.jsx)("div",{className:"SudokuMatrix",children:c.map((function(e){return e.map((function(e){return Object(m.jsx)(N,{cell:e,model:c,control:r,cellClicked:function(){return l({type:"cell/clicked",payload:e})}},e.i)}))}))})};n(30);var y=function(){var e=x(),t=e.state,n=t.numbers,c=t.model,r=t.control,l=e.dispatch;return Object(m.jsx)("div",{className:"SudokuNumbers",children:n.map((function(e){return function(e){var t=function(e,t){return 9-e.reduce((function(e,n){return e+n.filter((function(e){return e.value===""+t})).length}),0)}(c,e);return Object(m.jsxs)("div",{className:C()("SudokuNumber","SudokuNumber-".concat(e),{"SudokuNumber-selected":r.selected===e,"SudokuNumber-finished":0===t}),onClick:function(){return l({type:"number/clicked",payload:{number:e}})},children:[Object(m.jsx)("span",{children:e}),Object(m.jsx)("sub",{children:t})]},e)}(e)}))})};n(31);var E=function(e){var t=x(),n=t.state.levels,c=t.dispatch;return Object(m.jsx)("div",{className:"SudokuListLevels",children:n.options.map((function(e){return Object(m.jsx)("button",{className:C()("SudokuLevelOption",{"SudokuLevelOption-selected":e===n.selected}),onClick:function(){return c({type:"level/clicked",payload:{level:e}})},children:e})}))})};var w=function(){return Object(m.jsx)("div",{className:"Sudoku",children:Object(m.jsxs)(k,{children:[Object(m.jsx)(g,{}),Object(m.jsx)(y,{}),Object(m.jsx)(E,{})]})})};function A(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}n(32);var H=function(e){var t=function(){var e=Object(c.useState)(A()),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r(A())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=t.height,r=t.width;return r>.65*n&&(r=.65*n),Object(m.jsx)("div",{style:{"--width":r+"px","--height":n+"px",fontSize:r/15+"px"},className:"content-app",children:e.children})},I=n(44);n(33);var M=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return setTimeout((function(){return r(!0)}),3e3),n?Object(m.jsx)(I.b,{to:"/game"}):Object(m.jsx)("div",{className:"SplashScreen",children:Object(m.jsx)("h1",{children:"Hello Sudoku"})})},F=n(43);n(39);var R=function(e){return Object(m.jsx)(F.a,{in:null!=e.match,timeout:300,classNames:"pageTransition",unmountOnExit:!0,children:Object(m.jsx)("div",{className:"pageTransition",children:e.children})})},D=(n(40),[{path:"/",Component:M},{path:"/game",Component:w}]);var L=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(H,{children:Object(m.jsx)(I.a,{children:D.map((function(e){var t=e.path,n=e.Component;return Object(m.jsx)(I.c,{exact:!0,path:t,children:function(e){var t=e.match;return Object(m.jsx)(R,{match:t,children:Object(m.jsx)(n,{})})}},t)}))})})})};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.7368bc06.chunk.js.map