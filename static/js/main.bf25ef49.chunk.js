(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),l=n.n(a),o=n(8),s=n(11),i=n(2),u=n(17),d=n.n(u)()(),j={EASY:"easy",MEDIUM:"medium",HARD:"hard",VERY_HARD:"very-hard",INSANE:"insane",INHUMAN:"inhuman"};var b={levels:j,get:function(e){var t=e.level;console.log("level:",t);var n=d.generator.generate(j[t]),c=d.solver.solve(n);console.log(n),console.log(c);for(var r=[],a=0;a<9;a++){r.push([]);for(var l=0;l<9;l++){var o=9*a+l;r[a].push({lin:a,col:l,i:o,locked:"."!==n[o],editable:"."===n[o],value:n[o],solution:c[o],error:!1})}}return r},setOnCell:function(e,t,n){var c,r,a,l=function(e){return e.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.value}),"")}),"")}(e),o=(c=l,r=t.lin*e.length+t.col,a=n,r>c.length-1?c:c.substring(0,r)+a+c.substring(r+1));return d.solver.solve(o)?Object(i.a)(Object(i.a)({},t),{},{value:n,error:null,editable:!0}):Object(i.a)(Object(i.a)({},t),{},{value:".",error:n,editable:!1})}},m={numberFirst:{init:function(e){return e},cellClicked:function(e){var t=e.state,n=e.action,c=t.control;if(!c.selected)return t;var r=n.payload.cell;if(!r.editable)return t;var a=Object(s.a)(t.model);return a[r.lin][r.col]=b.setOnCell(a,r,c.selected),Object(i.a)(Object(i.a)({},t),{},{model:a})},cellErrorFinished:function(e){var t=e.state,n=e.action.payload.cell,c=Object(s.a)(t.model);return c[n.lin][n.col]=Object(i.a)(Object(i.a)({},n),{},{editable:!0,error:null}),Object(i.a)(Object(i.a)({},t),{},{model:c})},numberClicked:function(e){var t=e.state,n=e.action;return Object(i.a)(Object(i.a)({},t),{},{control:Object(i.a)(Object(i.a)({},t.control),{},{selected:n.payload.number})})}},cellFirst:{}},v={init:function(e){var t=e.state,n=e.action;return m[t.control.mode].init({state:t,action:n})},cellClicked:function(e){var t=e.state,n=e.action;return m[t.control.mode].cellClicked({state:t,action:n})},numberClicked:function(e){var t=e.state,n=e.action;return m[t.control.mode].numberClicked({state:t,action:n})},cellErrorFinished:function(e){var t=e.state,n=e.action;return m[t.control.mode].cellErrorFinished({state:t,action:n})}},O=function(e,t){console.log("event IN : state",e," action",t);var n=function(e,t){switch(t.type){case"cell/clicked":return v.cellClicked({state:e,action:t});case"cell/error-finished":return v.cellErrorFinished({state:e,action:t});case"number/clicked":return v.numberClicked({state:e,action:t});case"level/clicked":return Object(i.a)(Object(i.a)({},e),{},{levels:Object(i.a)(Object(i.a)({},e.levels),{},{selected:t.payload.level}),model:b.get(t.payload)});default:return e}}(e,t);return console.log("event OUT: state",e),n},p=n(0),h=Object(c.createContext)(),f={model:b.get({level:"EASY"}),numbers:Object(s.a)(Array(9).keys()).map((function(e){return""+(e+1)})),levels:{selected:"EASY",options:["EASY","MEDIUM","HARD","VERY_HARD","INSANE","INHUMAN"]},control:{mode:"numberFirst"}},k=function(e){var t=e.children,n=Object(c.useReducer)(O,f),r=Object(o.a)(n,2),a={state:r[0],dispatch:r[1]};return Object(p.jsx)(h.Provider,{value:a,children:t})},x=function(){var e=Object(c.useContext)(h);if(!e)throw new Error("useSudokuContext must be used within a SudokuProvider");return{state:e.state,dispatch:e.dispatch}},g=(n(27),n(28),n(7)),S=n.n(g);n(29);var C=function(e){var t=x(),n=t.state.control,c=t.dispatch,r=e.cell;return Object(p.jsx)("div",{className:S()("SudokuCell","SudokuCell-col-".concat(r.col),"SudokuCell-lin-".concat(r.lin),{"SudokuCell-locked":r.locked,"SudokuCell-n-locked":!r.locked,"SudokuCell-error":!!r.error,"SudokuCell-empty":"."===r.value,"SudokuCell-not-empty":"."!==r.value,"SudokuCell-number-selected":r.value===n.selected}),onClick:function(){return c({type:"cell/clicked",payload:{cell:e.cell}})},onAnimationEnd:function(){return c({type:"cell/error-finished",payload:{cell:e.cell}})},children:Object(p.jsx)("span",{children:r.error||r.value})})};var N=function(e){var t=x(),n=t.state,c=n.model,r=n.control,a=t.dispatch;return Object(p.jsx)("div",{className:"SudokuMatrix",children:c.map((function(e){return e.map((function(e){return Object(p.jsx)(C,{cell:e,model:c,control:r,cellClicked:function(){return a({type:"cell/clicked",payload:e})}},e.i)}))}))})};n(30);var y=function(){var e=x(),t=e.state,n=t.numbers,c=t.model,r=t.control,a=e.dispatch;return Object(p.jsx)("div",{className:"SudokuNumbers",children:n.map((function(e){return function(e){var t=function(e,t){return 9-e.reduce((function(e,n){return e+n.filter((function(e){return e.value===""+t})).length}),0)}(c,e);return Object(p.jsxs)("div",{className:S()("SudokuNumber","SudokuNumber-".concat(e),{"SudokuNumber-selected":r.selected===e,"SudokuNumber-finished":0===t}),onClick:function(){return a({type:"number/clicked",payload:{number:e}})},children:[Object(p.jsx)("span",{children:e}),Object(p.jsx)("sub",{children:t})]},e)}(e)}))})};n(31);var E=function(e){var t=x(),n=t.state.levels,c=t.dispatch;return Object(p.jsx)("div",{className:"SudokuListLevels",children:n.options.map((function(e){return Object(p.jsx)("button",{className:S()("SudokuLevelOption",{"SudokuLevelOption-selected":e===n.selected}),onClick:function(){return c({type:"level/clicked",payload:{level:e}})},children:e})}))})};var w=function(){return Object(p.jsx)("div",{className:"Sudoku",children:Object(p.jsxs)(k,{children:[Object(p.jsx)(N,{}),Object(p.jsx)(y,{}),Object(p.jsx)(E,{})]})})};function A(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}n(32);var F=function(e){var t=function(){var e=Object(c.useState)(A()),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r(A())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=t.height,r=t.width;return r>.65*n&&(r=.65*n),Object(p.jsx)("div",{style:{"--width":r+"px","--height":n+"px",fontSize:r/15+"px"},className:"content-app",children:e.children})},H=n(45);n(33);var I=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return setTimeout((function(){return r(!0)}),3e3),n?Object(p.jsx)(H.b,{to:"/game"}):Object(p.jsx)("div",{className:"SplashScreen",children:Object(p.jsx)("h1",{children:"Hello Sudoku!"})})},M=n(44);n(39);var R=function(e){return Object(p.jsx)(M.a,{in:null!=e.match,timeout:300,classNames:"pageTransition",unmountOnExit:!0,children:Object(p.jsx)("div",{className:"pageTransition",children:e.children})})};n(40);var D=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{class:"background",children:[e.children,Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"}),Object(p.jsx)("span",{class:"background-item"})]})})},L=(n(41),[{path:"/",Component:I},{path:"/game",Component:w}]);var Y=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(D,{children:Object(p.jsx)(F,{children:Object(p.jsx)(H.a,{children:L.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(H.c,{exact:!0,path:t,children:function(e){var t=e.match;return Object(p.jsx)(R,{match:t,children:Object(p.jsx)(n,{})})}},t)}))})})})})};l.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Y,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bf25ef49.chunk.js.map